import{d as y,h as P,i as A,l as m,m as L,c as p,u as t,e as d,b as h,t as E,a as _,j,F as C,o as n}from"./index-0204c66f.js";import{P as g}from"./PaginationComponent-fb63cb18.js";import{u as k,C as V,S as w}from"./constants-99ec137a.js";import{a as B,L as I,_ as T}from"./ErrorComponent.vue_vue_type_script_setup_true_lang-a1b8f0de.js";const u={all:["photo"],album:{all:()=>[...u.all,"album"],id:e=>[...u.album.all(),e]},id:e=>[...u.all,e]};function x(e){return fetch(`https://jsonplaceholder.typicode.com/photos/${e}`).then(a=>a.json())}function N(){return fetch("https://jsonplaceholder.typicode.com/photos").then(e=>e.json())}function F(e){return fetch(`https://jsonplaceholder.typicode.com/albums/${e}/photos`).then(a=>a.json())}const S={get:x,getAll:N,getAllPhotosInAlbum:F};function $(e){return k({queryKey:u.album.id(e),queryFn:()=>S.getAllPhotosInAlbum(e.value),cacheTime:V,staleTime:w})}const q={key:2,class:"album-wrapper"},K=["src","alt"],M=y({__name:"AlbumListView",setup(e){const a=P(),i=A(()=>Number(a.params.id)),s=m((i.value-1)*10+1),o=m(0),{data:r,isLoading:f,isError:b,error:v}=$(s);return L(s,()=>{o.value=0}),(U,l)=>(n(),p(C,null,[t(f)?(n(),d(I,{key:0})):t(b)?(n(),d(B,{key:1,error:t(v)},null,8,["error"])):t(r)?(n(),p("div",q,[h("h3",null,E(t(r)[o.value].title),1),h("img",{src:t(r)[o.value].url,alt:t(r)[o.value].title},null,8,K),_(g,{currentPage:o.value,"onUpdate:currentPage":l[0]||(l[0]=c=>o.value=c),start:0,limit:t(r).length-1},null,8,["currentPage","limit"])])):j("",!0),_(g,{currentPage:s.value,"onUpdate:currentPage":l[1]||(l[1]=c=>s.value=c),start:(i.value-1)*10+1,limit:(i.value-1)*10+10},null,8,["currentPage","start","limit"])],64))}});const R=T(M,[["__scopeId","data-v-b2584de5"]]);export{R as default};
